'use strict';
(function () {

    var eLogout = document.querySelector('#logout');
    if (eLogout == null) {
        return;
    }

    eLogout.onclick = function() {
        var sContextPath = _.CONTEXT_PATH;
        var sSuccessPath = sContextPath;

        jQuery.post(_.resolvePath(sContextPath, 'logout')).done(function(data) {
            if (data != null && data.optionalUrl != null) {
                var optionalUrl = data.optionalUrl;
                sSuccessPath = _.resolvePath(sContextPath, optionalUrl.startsWith('/') ? optionalUrl.substr(1, optionalUrl.length -1) : optionalUrl);
            }
            _.route(sSuccessPath);
        });
    };
})();